{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryImageTemplate = imageInfo => {\n  return `\n      <li class=\"gallery-item\">\n        <a class=\"item-link\" href=\"${imageInfo.largeImageURL}\">\n          <img class=\"item-img\"\n          src=\"${imageInfo.webformatURL}\"\n          alt=\"${imageInfo.tags}\"/>\n        </a>\n  \n        <ul class=\"item-info-list\">\n          <li class=\"item-info\">\n            Likes <span class=\"quantity\">${imageInfo.likes}</span> \n          </li>\n  \n          <li class=\"item-info\">\n            Views <span class=\"quantity\">${imageInfo.views}</span>\n          </li>\n  \n          <li class=\"item-info\">\n            Comments <span class=\"quantity\">${imageInfo.comments}</span>\n          </li>\n  \n          <li class=\"item-info\">\n            Downloads <span class=\"quantity\">${imageInfo.downloads}</span>\n          </li>\n        </ul>\n      </li>\n    `;\n};\n","const URL = 'https://pixabay.com';\nconst API_KEY = '45502477-f90d28a95f79ee2acbc927104';\n\nexport const fetchImages = serchQuery => {\n  const urlParams = new URLSearchParams({\n    key: API_KEY,\n    q: serchQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${URL}/api/?${urlParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n};\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport { createGalleryImageTemplate } from './js/render-functions';\nimport { fetchImages } from './js/pixabay-api';\n\nconst form = document.querySelector('form.js-form');\nconst gallery = document.querySelector('ul.js-gallery');\nconst preLoader = document.querySelector('span.js-loader');\n\nconst onFormSubmit = event => {\n  event.preventDefault();\n  gallery.innerHTML = '';\n  preLoader.classList.remove('is-hidden');\n\n  const input = form.search.value.trim();\n\n  if (input === '') {\n    iziToast.info({\n      message: 'Searching field is empty',\n      messageSize: '16',\n      position: 'topRight',\n    });\n\n    preLoader.classList.add('is-hidden');\n    event.target.reset();\n  } else {\n    fetchImages(input)\n      .then(data => {\n        if (data.hits.length === 0) {\n          iziToast.error({\n            title: 'Sorry,',\n            message:\n              'there are no images matching your search query. Please try again!',\n            messageSize: '16',\n            position: 'topRight',\n          });\n\n          event.target.reset();\n        } else {\n          const drawGallery = data.hits\n            .map(imageInfo => createGalleryImageTemplate(imageInfo))\n            .join('');\n\n          gallery.insertAdjacentHTML('beforeend', drawGallery);\n\n          const newGalleryBox = new SimpleLightbox('ul.gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250,\n          });\n\n          newGalleryBox.refresh();\n          event.target.reset();\n        }\n      })\n      .catch(err => {\n        iziToast.error({\n          title: err.name,\n          titleSize: '18',\n          message: err.message,\n          messageSize: '18',\n          position: 'center',\n          timeout: false,\n          progressBar: false,\n          overlay: true,\n          overlayColor: 'rgba(0, 0, 0, 0.5)',\n        });\n      })\n\n      .finally(() => {\n        preLoader.classList.add('is-hidden');\n      });\n  }\n};\n\nform.addEventListener('submit', onFormSubmit);\n"],"names":["createGalleryImageTemplate","imageInfo","URL","API_KEY","fetchImages","serchQuery","urlParams","response","form","gallery","preLoader","onFormSubmit","event","input","iziToast","data","drawGallery","SimpleLightbox","err"],"mappings":"6vBAAO,MAAMA,EAA6BC,GACjC;AAAA;AAAA,qCAE4BA,EAAU,aAAa;AAAA;AAAA,iBAE3CA,EAAU,YAAY;AAAA,iBACtBA,EAAU,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,2CAKYA,EAAU,KAAK;AAAA;AAAA;AAAA;AAAA,2CAIfA,EAAU,KAAK;AAAA;AAAA;AAAA;AAAA,8CAIZA,EAAU,QAAQ;AAAA;AAAA;AAAA;AAAA,+CAIjBA,EAAU,SAAS;AAAA;AAAA;AAAA;AAAA,MCvB5DC,EAAM,sBACNC,EAAU,qCAEHC,EAAcC,GAAc,CACvC,MAAMC,EAAY,IAAI,gBAAgB,CACpC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGH,CAAG,SAASI,CAAS,EAAE,EAAE,KAAKC,GAAY,CACxD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECdMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,eAAe,EAChDC,EAAY,SAAS,cAAc,gBAAgB,EAEnDC,EAAeC,GAAS,CAC5BA,EAAM,eAAc,EACpBH,EAAQ,UAAY,GACpBC,EAAU,UAAU,OAAO,WAAW,EAEtC,MAAMG,EAAQL,EAAK,OAAO,MAAM,KAAI,EAEhCK,IAAU,IACZC,EAAS,KAAK,CACZ,QAAS,2BACT,YAAa,KACb,SAAU,UAChB,CAAK,EAEDJ,EAAU,UAAU,IAAI,WAAW,EACnCE,EAAM,OAAO,SAEbR,EAAYS,CAAK,EACd,KAAKE,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvBD,EAAS,MAAM,CACb,MAAO,SACP,QACE,oEACF,YAAa,KACb,SAAU,UACtB,CAAW,EAEDF,EAAM,OAAO,YACR,CACL,MAAMI,EAAcD,EAAK,KACtB,IAAId,GAAaD,EAA2BC,CAAS,CAAC,EACtD,KAAK,EAAE,EAEVQ,EAAQ,mBAAmB,YAAaO,CAAW,EAE7B,IAAIC,EAAe,eAAgB,CACvD,aAAc,MACd,aAAc,GAC1B,CAAW,EAEa,QAAO,EACrBL,EAAM,OAAO,OACd,CACT,CAAO,EACA,MAAMM,GAAO,CACZJ,EAAS,MAAM,CACb,MAAOI,EAAI,KACX,UAAW,KACX,QAASA,EAAI,QACb,YAAa,KACb,SAAU,SACV,QAAS,GACT,YAAa,GACb,QAAS,GACT,aAAc,oBACxB,CAAS,CACT,CAAO,EAEA,QAAQ,IAAM,CACbR,EAAU,UAAU,IAAI,WAAW,CAC3C,CAAO,CAEP,EAEAF,EAAK,iBAAiB,SAAUG,CAAY"}