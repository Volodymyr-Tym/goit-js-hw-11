{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryImageTemplate = imageInfo => {\n  return `\n      <li class=\"gallery-item\">\n        <a class=\"item-link\" href=\"${imageInfo.largeImageURL}\">\n          <img class=\"item-img\"\n          src=\"${imageInfo.webformatURL}\"\n          alt=\"${imageInfo.tags}\"/>\n        </a>\n  \n        <ul class=\"item-info-list\">\n          <li class=\"item-info\">\n            <p class=\"info-name\">Likes</p>\n            <p class=\"info-nubmer\">${imageInfo.likes}</p>\n          </li>\n  \n          <li class=\"item-info\">\n            <p class=\"info-name\">Views</p>\n            <p class=\"info-nubmer\">${imageInfo.views}</p>\n          </li>\n  \n          <li class=\"item-info\">\n            <p class=\"info-name\">Comments</p>\n            <p class=\"info-nubmer\">${imageInfo.comments}</p>\n          </li>\n  \n          <li class=\"item-info\">\n            <p class=\"info-name\">Downloads</p>\n            <p class=\"info-nubmer\">${imageInfo.downloads}</p>\n          </li>\n        </ul>\n      </li>\n    `;\n};\n","// const URL = `https://pixabay.com/api/?key=${API_KEY}&q=${queryText}`;\nconst URL = 'https://pixabay.com';\nconst API_KEY = '45502477-f90d28a95f79ee2acbc927104';\n\nexport const fetchImages = serchQuery => {\n  const urlParams = new URLSearchParams({\n    key: API_KEY,\n    q: serchQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${URL}/api/?${urlParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n};\n","import iziToast from 'izitoast';\nimport { createGalleryImageTemplate } from './js/render-functions';\nimport { fetchImages } from './js/pixabay-api';\n\nconst form = document.querySelector('form.js-form');\nconst gallery = document.querySelector('ul.js-gallery');\n\nconst onFormSubmit = event => {\n  event.preventDefault();\n\n  const input = form.search.value.trim();\n\n  if (input === '') {\n    iziToast.info({\n      message: 'Searching field is empty',\n      messageSize: '16',\n      position: 'topRight',\n    });\n\n    event.target.reset();\n  } else {\n    fetchImages(input)\n      .then(data => {\n        if (data.totalHits === 0) {\n          iziToast.error({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            messageSize: '16',\n            position: 'topRight',\n          });\n\n          event.target.reset();\n        } else {\n          const drawGallery = data.hits\n            .map(imageInfo => createGalleryImageTemplate(imageInfo))\n            .join('');\n\n          gallery.innerHTML = drawGallery;\n          event.target.reset();\n        }\n      })\n\n      .catch(err => {\n        console.log(err);\n      });\n  }\n};\n\nform.addEventListener('submit', onFormSubmit);\n"],"names":["createGalleryImageTemplate","imageInfo","URL","API_KEY","fetchImages","serchQuery","urlParams","response","form","gallery","onFormSubmit","event","input","iziToast","data","drawGallery","err"],"mappings":"svBAAO,MAAMA,EAA6BC,GACjC;AAAA;AAAA,qCAE4BA,EAAU,aAAa;AAAA;AAAA,iBAE3CA,EAAU,YAAY;AAAA,iBACtBA,EAAU,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAMMA,EAAU,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,qCAKfA,EAAU,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,qCAKfA,EAAU,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,qCAKlBA,EAAU,SAAS;AAAA;AAAA;AAAA;AAAA,MC1BlDC,EAAM,sBACNC,EAAU,qCAEHC,EAAcC,GAAc,CACvC,MAAMC,EAAY,IAAI,gBAAgB,CACpC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGH,CAAG,SAASI,CAAS,EAAE,EAAE,KAAKC,GAAY,CACxD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAG,CACH,EChBMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,eAAe,EAEhDC,EAAeC,GAAS,CAC5BA,EAAM,eAAc,EAEpB,MAAMC,EAAQJ,EAAK,OAAO,MAAM,KAAI,EAEhCI,IAAU,IACZC,EAAS,KAAK,CACZ,QAAS,2BACT,YAAa,KACb,SAAU,UAChB,CAAK,EAEDF,EAAM,OAAO,SAEbP,EAAYQ,CAAK,EACd,KAAKE,GAAQ,CACZ,GAAIA,EAAK,YAAc,EACrBD,EAAS,MAAM,CACb,QACE,2EACF,YAAa,KACb,SAAU,UACtB,CAAW,EAEDF,EAAM,OAAO,YACR,CACL,MAAMI,EAAcD,EAAK,KACtB,IAAIb,GAAaD,EAA2BC,CAAS,CAAC,EACtD,KAAK,EAAE,EAEVQ,EAAQ,UAAYM,EACpBJ,EAAM,OAAO,OACd,CACT,CAAO,EAEA,MAAMK,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACvB,CAAO,CAEP,EAEAR,EAAK,iBAAiB,SAAUE,CAAY"}